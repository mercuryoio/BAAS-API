@startuml
' This UML source uses PlantUML format.
' https://plantuml.com/sequence-diagram for syntax details.
' Optional styles

skinparam shadowing false
skinparam SequenceMessageAlign direction

autonumber

actor User as user
participant "Partner" as part
participant "Mercuryo" as merc

user -> part: Купить крипту
part -> merc: /lib/currencies()
part -> merc: /sdk-partner/sign-in()
user -> part: Пополнрить счет
part -> merc: /b2b/user/data()
alt#gold #lightblue KYC1
merc --> part: KYC1
part -> merc: get/kyc-access-token
merc --> part: redirect_url
part -> user: redirect
part -> merc: /b2b/user/data()
end
merc --> part: KYC2
part -> merc: getUserIban()
merc --> part: IBAN
part --> user: IBAN number + Instructions

@enduml
