<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1698px" preserveAspectRatio="none" style="width:825px;height:1698px;background:#FFFFFF;" version="1.1" viewBox="0 0 825 1698" width="825px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="421.5918" style="stroke:#A80036;stroke-width:1.0;" width="10" x="634.5" y="892.1621"/><rect fill="#F0F8FF" height="120.1973" style="stroke:#000000;stroke-width:2.0;" width="678.5" x="10" y="160.1094"/><rect fill="#FFE0E0" height="44.2656" style="stroke:none;stroke-width:1.0;" width="678.5" x="10" y="236.041"/><rect fill="#F0F8FF" height="146.1973" style="stroke:#000000;stroke-width:2.0;" width="460.5" x="10" y="717.6543"/><rect fill="#FFE0E0" height="99.5762" style="stroke:none;stroke-width:1.0;" width="460.5" x="10" y="764.2754"/><rect fill="#F0F8FF" height="103.8867" style="stroke:#000000;stroke-width:2.0;" width="416" x="287.5" y="907.1621"/><rect fill="#FFE0E0" height="44.2656" style="stroke:none;stroke-width:1.0;" width="416" x="287.5" y="966.7832"/><rect fill="#F0F8FF" height="90.8867" style="stroke:#000000;stroke-width:2.0;" width="401" x="287.5" y="1054.3594"/><rect fill="#FFE0E0" height="44.2656" style="stroke:none;stroke-width:1.0;" width="401" x="287.5" y="1100.9805"/><rect fill="#F0F8FF" height="276.4395" style="stroke:#000000;stroke-width:2.0;" width="808.5" x="10" y="1159.2461"/><rect fill="#FFE0E0" height="158.1973" style="stroke:none;stroke-width:1.0;" width="808.5" x="10" y="1277.4883"/><rect fill="#F0F8FF" height="120.1973" style="stroke:#000000;stroke-width:2.0;" width="678.5" x="10" y="1478.9961"/><rect fill="#FFFFE0" height="44.2656" style="stroke:none;stroke-width:1.0;" width="678.5" x="10" y="1554.9277"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="51" x2="51" y1="84.4883" y2="1616.1934"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="324.5" x2="324.5" y1="84.4883" y2="1616.1934"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="639.5" x2="639.5" y1="84.4883" y2="1616.1934"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="20" y="81.5352">EndUser</text><ellipse cx="51.5" cy="15" fill="#FEFECE" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M51.5,23 L51.5,50 M38.5,31 L64.5,31 M51.5,50 L38.5,65 M51.5,50 L64.5,65 " fill="none" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="20" y="1628.7285">EndUser</text><ellipse cx="51.5" cy="1641.6816" fill="#FEFECE" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M51.5,1649.6816 L51.5,1676.6816 M38.5,1657.6816 L64.5,1657.6816 M51.5,1676.6816 L38.5,1691.6816 M51.5,1676.6816 L64.5,1691.6816 " fill="none" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="54" x="297.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="304.5" y="73.5352">Client</text><rect fill="#FEFECE" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="54" x="297.5" y="1615.1934"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="304.5" y="1635.7285">Client</text><rect fill="#FEFECE" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="78" x="600.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="607.5" y="73.5352">Mercuryo</text><rect fill="#FEFECE" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="78" x="600.5" y="1615.1934"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="607.5" y="1635.7285">Mercuryo</text><rect fill="#FFFFFF" height="421.5918" style="stroke:#A80036;stroke-width:1.0;" width="10" x="634.5" y="892.1621"/><polygon fill="#A80036" points="312.5,111.7988,322.5,115.7988,312.5,119.7988,316.5,115.7988" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="51.5" x2="318.5" y1="115.7988" y2="115.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="58.5" y="111.0566">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="71.5" y="111.0566">open crypto section</text><polygon fill="#A80036" points="627.5,141.1094,637.5,145.1094,627.5,149.1094,631.5,145.1094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="324.5" x2="633.5" y1="145.1094" y2="145.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="331.5" y="140.3672">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="344.5" y="140.3672">/sdk-partner/sign-in()</text><path d="M10,160.1094 L72,160.1094 L72,167.1094 L62,177.1094 L10,177.1094 L10,160.1094 " fill="#FFD700" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="120.1973" style="stroke:#000000;stroke-width:2.0;" width="678.5" x="10" y="160.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="173.6777">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="82" x="87" y="172.7441">[Unauthorized]</text><polygon fill="#A80036" points="335.5,194.7305,325.5,198.7305,335.5,202.7305,331.5,198.7305" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="329.5" x2="638.5" y1="198.7305" y2="198.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="531.5" y="193.9883">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="544.5" y="193.9883">http code 401</text><polygon fill="#A80036" points="62.5,224.041,52.5,228.041,62.5,232.041,58.5,228.041" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56.5" x2="323.5" y1="228.041" y2="228.041"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="216.5" y="223.2988">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="229.5" y="223.2988">http code 401</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="688.5" y1="237.041" y2="237.041"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="76" x="15" y="247.6758">[#Authorized]</text><polygon fill="#A80036" points="335.5,268.3066,325.5,272.3066,335.5,276.3066,331.5,272.3066" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="329.5" x2="638.5" y1="272.3066" y2="272.3066"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="531.5" y="267.5645">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="544.5" y="267.5645">http code 200</text><polygon fill="#A80036" points="627.5,304.6172,637.5,308.6172,627.5,312.6172,631.5,308.6172" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="324.5" x2="633.5" y1="308.6172" y2="308.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="331.5" y="303.875">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="344.5" y="303.875">GET /b2b/partner/limit</text><polygon fill="#A80036" points="335.5,333.9277,325.5,337.9277,335.5,341.9277,331.5,337.9277" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="329.5" x2="638.5" y1="337.9277" y2="337.9277"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="583.5" y="333.1855">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="596.5" y="333.1855">limits</text><polygon fill="#A80036" points="627.5,363.2383,637.5,367.2383,627.5,371.2383,631.5,367.2383" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="324.5" x2="633.5" y1="367.2383" y2="367.2383"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="331.5" y="362.4961">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="344.5" y="362.4961">/b2b/user/limit</text><polygon fill="#A80036" points="335.5,392.5488,325.5,396.5488,335.5,400.5488,331.5,396.5488" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="329.5" x2="638.5" y1="396.5488" y2="396.5488"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="583.5" y="391.8066">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="596.5" y="391.8066">limits</text><polygon fill="#A80036" points="62.5,421.8594,52.5,425.8594,62.5,429.8594,58.5,425.8594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56.5" x2="323.5" y1="425.8594" y2="425.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="259.5" y="421.1172">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="281.5" y="421.1172">limits</text><polygon fill="#A80036" points="627.5,451.1699,637.5,455.1699,627.5,459.1699,631.5,455.1699" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="324.5" x2="633.5" y1="455.1699" y2="455.1699"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="331.5" y="450.4277">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="353.5" y="450.4277">/b2b/all/buy/rate</text><polygon fill="#A80036" points="335.5,480.4805,325.5,484.4805,335.5,488.4805,331.5,484.4805" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="329.5" x2="638.5" y1="484.4805" y2="484.4805"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="579.5" y="479.7383">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="601.5" y="479.7383">rates</text><polygon fill="#A80036" points="62.5,509.791,52.5,513.791,62.5,517.791,58.5,513.791" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56.5" x2="323.5" y1="513.791" y2="513.791"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="264.5" y="509.0488">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="286.5" y="509.0488">rates</text><polygon fill="#A80036" points="312.5,539.1016,322.5,543.1016,312.5,547.1016,316.5,543.1016" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="51.5" x2="318.5" y1="543.1016" y2="543.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="58.5" y="538.3594">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227" x="80.5" y="538.3594">enter fiat-curr, crypto-curr, amount</text><polygon fill="#A80036" points="627.5,568.4121,637.5,572.4121,627.5,576.4121,631.5,572.4121" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="324.5" x2="633.5" y1="572.4121" y2="572.4121"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="331.5" y="567.6699">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="232" x="353.5" y="567.6699">/b2b/cs/buy/rate (from, to, amount)</text><polygon fill="#A80036" points="335.5,597.7227,325.5,601.7227,335.5,605.7227,331.5,601.7227" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="329.5" x2="638.5" y1="601.7227" y2="601.7227"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="438.5" y="596.9805">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="460.5" y="596.9805">trx-token, rates, limits, fee</text><polygon fill="#A80036" points="62.5,627.0332,52.5,631.0332,62.5,635.0332,58.5,631.0332" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56.5" x2="323.5" y1="631.0332" y2="631.0332"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="193.5" y="626.291">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="215.5" y="626.291">rates, limits, fee</text><polygon fill="#A80036" points="312.5,656.3438,322.5,660.3438,312.5,664.3438,316.5,660.3438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="51.5" x2="318.5" y1="660.3438" y2="660.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="58.5" y="655.6016">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="80.5" y="655.6016">submit</text><line style="stroke:#A80036;stroke-width:1.0;" x1="324.5" x2="366.5" y1="689.6543" y2="689.6543"/><line style="stroke:#A80036;stroke-width:1.0;" x1="366.5" x2="366.5" y1="689.6543" y2="702.6543"/><line style="stroke:#A80036;stroke-width:1.0;" x1="325.5" x2="366.5" y1="702.6543" y2="702.6543"/><polygon fill="#A80036" points="335.5,698.6543,325.5,702.6543,335.5,706.6543,331.5,702.6543" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="331.5" y="684.9121">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219" x="353.5" y="684.9121">check users fiat balance and limits</text><path d="M10,717.6543 L72,717.6543 L72,724.6543 L62,734.6543 L10,734.6543 L10,717.6543 " fill="#FFD700" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="146.1973" style="stroke:#000000;stroke-width:2.0;" width="460.5" x="10" y="717.6543"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="731.2227">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="45" x="87" y="730.2891">[Cancel]</text><polygon fill="#A80036" points="62.5,752.2754,52.5,756.2754,62.5,760.2754,58.5,756.2754" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56.5" x2="323.5" y1="756.2754" y2="756.2754"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="207.5" y="751.5332">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="229.5" y="751.5332">http code 403</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="470.5" y1="765.2754" y2="765.2754"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="51" x="15" y="775.9102">[Success]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="324.5" x2="366.5" y1="800.541" y2="800.541"/><line style="stroke:#A80036;stroke-width:1.0;" x1="366.5" x2="366.5" y1="800.541" y2="813.541"/><line style="stroke:#A80036;stroke-width:1.0;" x1="325.5" x2="366.5" y1="813.541" y2="813.541"/><polygon fill="#A80036" points="335.5,809.541,325.5,813.541,335.5,817.541,331.5,813.541" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="331.5" y="795.7988">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="353.5" y="795.7988">generate orderID</text><line style="stroke:#A80036;stroke-width:1.0;" x1="324.5" x2="366.5" y1="842.8516" y2="842.8516"/><line style="stroke:#A80036;stroke-width:1.0;" x1="366.5" x2="366.5" y1="842.8516" y2="855.8516"/><line style="stroke:#A80036;stroke-width:1.0;" x1="325.5" x2="366.5" y1="855.8516" y2="855.8516"/><polygon fill="#A80036" points="335.5,851.8516,325.5,855.8516,335.5,859.8516,331.5,855.8516" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="331.5" y="838.1094">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="353.5" y="838.1094">capture payment</text><polygon fill="#A80036" points="622.5,888.1621,632.5,892.1621,622.5,896.1621,626.5,892.1621" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="324.5" x2="628.5" y1="892.1621" y2="892.1621"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="331.5" y="887.4199">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="269" x="353.5" y="887.4199">/b2b/cs/buy (trx-token, merchant-trx-id)</text><path d="M287.5,907.1621 L349.5,907.1621 L349.5,914.1621 L339.5,924.1621 L287.5,924.1621 L287.5,907.1621 " fill="#FFD700" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="103.8867" style="stroke:#000000;stroke-width:2.0;" width="416" x="287.5" y="907.1621"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="302.5" y="920.7305">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="250" x="364.5" y="919.7969">[check merchant transaction for duplication]</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="644.5" x2="686.5" y1="945.7832" y2="945.7832"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="686.5" x2="686.5" y1="945.7832" y2="958.7832"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="645.5" x2="686.5" y1="958.7832" y2="958.7832"/><polygon fill="#A80036" points="655.5,954.7832,645.5,958.7832,655.5,962.7832,651.5,958.7832" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="651.5" y="941.041">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="673.5" y="941.041">OK</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="287.5" x2="703.5" y1="967.7832" y2="967.7832"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="37" x="292.5" y="978.418">[Error]</text><polygon fill="#A80036" points="335.5,999.0488,325.5,1003.0488,335.5,1007.0488,331.5,1003.0488" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="329.5" x2="633.5" y1="1003.0488" y2="1003.0488"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="525.5" y="998.3066">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="547.5" y="998.3066">already done</text><polygon fill="#A80036" points="335.5,1035.3594,325.5,1039.3594,335.5,1043.3594,331.5,1039.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="329.5" x2="633.5" y1="1039.3594" y2="1039.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="467.5" y="1034.6172">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="489.5" y="1034.6172">check order existence</text><path d="M287.5,1054.3594 L349.5,1054.3594 L349.5,1061.3594 L339.5,1071.3594 L287.5,1071.3594 L287.5,1054.3594 " fill="#FFD700" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="90.8867" style="stroke:#000000;stroke-width:2.0;" width="401" x="287.5" y="1054.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="302.5" y="1067.9277">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="51" x="364.5" y="1066.9941">[Success]</text><polygon fill="#A80036" points="622.5,1088.9805,632.5,1092.9805,622.5,1096.9805,626.5,1092.9805" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="324.5" x2="628.5" y1="1092.9805" y2="1092.9805"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="331.5" y="1088.2383">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="353.5" y="1088.2383">http 200</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="287.5" x2="688.5" y1="1101.9805" y2="1101.9805"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="37" x="292.5" y="1112.6152">[Error]</text><polygon fill="#A80036" points="622.5,1133.2461,632.5,1137.2461,622.5,1141.2461,626.5,1137.2461" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="324.5" x2="628.5" y1="1137.2461" y2="1137.2461"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="331.5" y="1132.5039">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="353.5" y="1132.5039">http 403</text><path d="M10,1159.2461 L72,1159.2461 L72,1166.2461 L62,1176.2461 L10,1176.2461 L10,1159.2461 " fill="#FFD700" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="276.4395" style="stroke:#000000;stroke-width:2.0;" width="808.5" x="10" y="1159.2461"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="1172.8145">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="51" x="87" y="1171.8809">[Success]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="644.5" x2="686.5" y1="1197.8672" y2="1197.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="686.5" x2="686.5" y1="1197.8672" y2="1210.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="645.5" x2="686.5" y1="1210.8672" y2="1210.8672"/><polygon fill="#A80036" points="655.5,1206.8672,645.5,1210.8672,655.5,1214.8672,651.5,1210.8672" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="651.5" y="1193.125">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="673.5" y="1193.125">transaction complete</text><polygon fill="#A80036" points="335.5,1236.1777,325.5,1240.1777,335.5,1244.1777,331.5,1240.1777" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="329.5" x2="633.5" y1="1240.1777" y2="1240.1777"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="551.5" y="1235.4355">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="573.5" y="1235.4355">http 200</text><polygon fill="#A80036" points="62.5,1265.4883,52.5,1269.4883,62.5,1273.4883,58.5,1269.4883" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56.5" x2="323.5" y1="1269.4883" y2="1269.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="200.5" y="1264.7461">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="222.5" y="1264.7461">order complete</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="818.5" y1="1278.4883" y2="1278.4883"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="45" x="15" y="1289.123">[Cancel]</text><polygon fill="#A80036" points="335.5,1309.7539,325.5,1313.7539,335.5,1317.7539,331.5,1313.7539" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="329.5" x2="638.5" y1="1313.7539" y2="1313.7539"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="522.5" y="1309.0117">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="544.5" y="1309.0117">http code 400</text><line style="stroke:#A80036;stroke-width:1.0;" x1="324.5" x2="366.5" y1="1343.0645" y2="1343.0645"/><line style="stroke:#A80036;stroke-width:1.0;" x1="366.5" x2="366.5" y1="1343.0645" y2="1356.0645"/><line style="stroke:#A80036;stroke-width:1.0;" x1="325.5" x2="366.5" y1="1356.0645" y2="1356.0645"/><polygon fill="#A80036" points="335.5,1352.0645,325.5,1356.0645,335.5,1360.0645,331.5,1356.0645" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="331.5" y="1338.3223">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="353.5" y="1338.3223">cancel order</text><line style="stroke:#A80036;stroke-width:1.0;" x1="324.5" x2="366.5" y1="1385.375" y2="1385.375"/><line style="stroke:#A80036;stroke-width:1.0;" x1="366.5" x2="366.5" y1="1385.375" y2="1398.375"/><line style="stroke:#A80036;stroke-width:1.0;" x1="325.5" x2="366.5" y1="1398.375" y2="1398.375"/><polygon fill="#A80036" points="335.5,1394.375,325.5,1398.375,335.5,1402.375,331.5,1398.375" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="331.5" y="1380.6328">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="353.5" y="1380.6328">refund payment</text><polygon fill="#A80036" points="62.5,1423.6855,52.5,1427.6855,62.5,1431.6855,58.5,1427.6855" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56.5" x2="323.5" y1="1427.6855" y2="1427.6855"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="163.5" y="1422.9434">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="185.5" y="1422.9434">ask user for re-order</text><polygon fill="#A80036" points="627.5,1459.9961,637.5,1463.9961,627.5,1467.9961,631.5,1463.9961" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="324.5" x2="633.5" y1="1463.9961" y2="1463.9961"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="331.5" y="1459.2539">36</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="353.5" y="1459.2539">/b2b/user/data</text><path d="M10,1478.9961 L72,1478.9961 L72,1485.9961 L62,1495.9961 L10,1495.9961 L10,1478.9961 " fill="#FFD700" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="120.1973" style="stroke:#000000;stroke-width:2.0;" width="678.5" x="10" y="1478.9961"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="1492.5645">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="51" x="87" y="1491.6309">[Success]</text><polygon fill="#A80036" points="335.5,1513.6172,325.5,1517.6172,335.5,1521.6172,331.5,1517.6172" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="329.5" x2="638.5" y1="1517.6172" y2="1517.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="363.5" y="1512.875">37</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="247" x="385.5" y="1512.875">actual cryptocurrency and fiat balances</text><polygon fill="#A80036" points="62.5,1542.9277,52.5,1546.9277,62.5,1550.9277,58.5,1546.9277" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56.5" x2="323.5" y1="1546.9277" y2="1546.9277"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="97.5" y="1542.1855">38</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="119.5" y="1542.1855">update fiat and crypto balances</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="688.5" y1="1555.9277" y2="1555.9277"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="45" x="15" y="1566.5625">[Cancel]</text><polygon fill="#A80036" points="335.5,1587.1934,325.5,1591.1934,335.5,1595.1934,331.5,1591.1934" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="329.5" x2="638.5" y1="1591.1934" y2="1591.1934"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="522.5" y="1586.4512">39</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="544.5" y="1586.4512">http code 403</text><!--MD5=[6becefeea0ae9ac02de99e9cd8a5482c]
@startuml
' This UML source uses PlantUML format.
' https://plantuml.com/sequence-diagram for syntax details.
' Optional styles

skinparam shadowing false
skinparam SequenceMessageAlign direction

autonumber

actor EndUser as user
participant "Client" as part
participant "Mercuryo" as merc

user -> part: open crypto section
part -> merc: /sdk-partner/sign-in()
alt#Gold #AliceBlue Unauthorized
    merc - -> part: http code 401
    part - -> user: http code 401
else #IMPLEMENTATION #Authorized
    merc - -> part: http code 200
end

part -> merc: GET /b2b/partner/limit
merc - -> part: limits

part -> merc: /b2b/user/limit
merc - -> part: limits
part - -> user: limits

part -> merc: /b2b/all/buy/rate
merc - -> part: rates
part - -> user: rates

user -> part: enter fiat-curr, crypto-curr, amount
part -> merc: /b2b/cs/buy/rate (from, to, amount)
merc - -> part: trx-token, rates, limits, fee
part - -> user: rates, limits, fee
user -> part: submit
part -> part: check users fiat balance and limits
alt#Gold #AliceBlue Cancel
    part - -> user: http code 403
else #IMPLEMENTATION Success
    part -> part: generate orderID
    part -> part: capture payment
end

part -> merc++: /b2b/cs/buy (trx-token, merchant-trx-id)

alt#Gold #AliceBlue check merchant transaction for duplication
    merc - -> merc: OK
else #IMPLEMENTATION Error
    merc - -> part: already done
end

merc -> part: check order existence 
    alt#Gold #AliceBlue Success
    part - -> merc: http 200
    else #IMPLEMENTATION  Error
    part - -> merc: http 403
    end

    alt#Gold #AliceBlue Success
        merc -> merc: transaction complete
        merc - -> part: http 200
        part - -> user: order complete
    else #IMPLEMENTATION Cancel
        merc - -> part- -: http code 400
        part -> part: cancel order
        part -> part: refund payment
        part - -> user: ask user for re-order
    end

part -> merc: /b2b/user/data
    alt#Gold #AliceBlue Success
        merc - -> part: actual cryptocurrency and fiat balances
        part - -> user: update fiat and crypto balances
    else #LightYellow Cancel
        merc - -> part- -: http code 403
    end
@enduml

@startuml

skinparam shadowing false
skinparam SequenceMessageAlign direction

autonumber

actor EndUser as user
participant "Client" as part
participant "Mercuryo" as merc

user -> part: open crypto section
part -> merc: /sdk-partner/sign-in()
alt#Gold #AliceBlue Unauthorized
    merc - -> part: http code 401
    part - -> user: http code 401
else #IMPLEMENTATION #Authorized
    merc - -> part: http code 200
end

part -> merc: GET /b2b/partner/limit
merc - -> part: limits

part -> merc: /b2b/user/limit
merc - -> part: limits
part - -> user: limits

part -> merc: /b2b/all/buy/rate
merc - -> part: rates
part - -> user: rates

user -> part: enter fiat-curr, crypto-curr, amount
part -> merc: /b2b/cs/buy/rate (from, to, amount)
merc - -> part: trx-token, rates, limits, fee
part - -> user: rates, limits, fee
user -> part: submit
part -> part: check users fiat balance and limits
alt#Gold #AliceBlue Cancel
    part - -> user: http code 403
else #IMPLEMENTATION Success
    part -> part: generate orderID
    part -> part: capture payment
end

part -> merc++: /b2b/cs/buy (trx-token, merchant-trx-id)

alt#Gold #AliceBlue check merchant transaction for duplication
    merc - -> merc: OK
else #IMPLEMENTATION Error
    merc - -> part: already done
end

merc -> part: check order existence 
    alt#Gold #AliceBlue Success
    part - -> merc: http 200
    else #IMPLEMENTATION  Error
    part - -> merc: http 403
    end

    alt#Gold #AliceBlue Success
        merc -> merc: transaction complete
        merc - -> part: http 200
        part - -> user: order complete
    else #IMPLEMENTATION Cancel
        merc - -> part- -: http code 400
        part -> part: cancel order
        part -> part: refund payment
        part - -> user: ask user for re-order
    end

part -> merc: /b2b/user/data
    alt#Gold #AliceBlue Success
        merc - -> part: actual cryptocurrency and fiat balances
        part - -> user: update fiat and crypto balances
    else #LightYellow Cancel
        merc - -> part- -: http code 403
    end
@enduml

PlantUML version 1.2022.1(Tue Feb 01 22:19:58 SAMT 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: ru
Country: RU
--></g></svg>