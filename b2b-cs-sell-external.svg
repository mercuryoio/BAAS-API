<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1770px" preserveAspectRatio="none" style="width:824px;height:1770px;background:#FFFFFF;" version="1.1" viewBox="0 0 824 1770" width="824px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="577.834" style="stroke:#A80036;stroke-width:1.0;" width="10" x="633.5" y="849.8516"/><rect fill="#F0F8FF" height="120.1973" style="stroke:#000000;stroke-width:2.0;" width="677.5" x="10" y="160.1094"/><rect fill="#FFE0E0" height="44.2656" style="stroke:none;stroke-width:1.0;" width="677.5" x="10" y="236.041"/><rect fill="#F0F8FF" height="103.8867" style="stroke:#000000;stroke-width:2.0;" width="460.5" x="10" y="717.6543"/><rect fill="#FFE0E0" height="57.2656" style="stroke:none;stroke-width:1.0;" width="460.5" x="10" y="764.2754"/><rect fill="#F0F8FF" height="103.8867" style="stroke:#000000;stroke-width:2.0;" width="415" x="287.5" y="864.8516"/><rect fill="#FFE0E0" height="44.2656" style="stroke:none;stroke-width:1.0;" width="415" x="287.5" y="924.4727"/><rect fill="#F0F8FF" height="90.8867" style="stroke:#000000;stroke-width:2.0;" width="400" x="287.5" y="1012.0488"/><rect fill="#FFE0E0" height="44.2656" style="stroke:none;stroke-width:1.0;" width="400" x="287.5" y="1058.6699"/><rect fill="#F0F8FF" height="361.0605" style="stroke:#000000;stroke-width:2.0;" width="807.5" x="10" y="1146.2461"/><rect fill="#FFE0E0" height="158.1973" style="stroke:none;stroke-width:1.0;" width="807.5" x="10" y="1349.1094"/><rect fill="#F0F8FF" height="120.1973" style="stroke:#000000;stroke-width:2.0;" width="677.5" x="10" y="1550.6172"/><rect fill="#FFE0E0" height="44.2656" style="stroke:none;stroke-width:1.0;" width="677.5" x="10" y="1626.5488"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="51" x2="51" y1="84.4883" y2="1687.8145"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="324.5" x2="324.5" y1="84.4883" y2="1687.8145"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="638.5" x2="638.5" y1="84.4883" y2="1687.8145"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="20" y="81.5352">EndUser</text><ellipse cx="51.5" cy="15" fill="#FEFECE" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M51.5,23 L51.5,50 M38.5,31 L64.5,31 M51.5,50 L38.5,65 M51.5,50 L64.5,65 " fill="none" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="20" y="1700.3496">EndUser</text><ellipse cx="51.5" cy="1713.3027" fill="#FEFECE" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M51.5,1721.3027 L51.5,1748.3027 M38.5,1729.3027 L64.5,1729.3027 M51.5,1748.3027 L38.5,1763.3027 M51.5,1748.3027 L64.5,1763.3027 " fill="none" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="54" x="297.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="304.5" y="73.5352">Client</text><rect fill="#FEFECE" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="54" x="297.5" y="1686.8145"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="304.5" y="1707.3496">Client</text><rect fill="#FEFECE" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="78" x="599.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="606.5" y="73.5352">Mercuryo</text><rect fill="#FEFECE" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="78" x="599.5" y="1686.8145"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="606.5" y="1707.3496">Mercuryo</text><rect fill="#FFFFFF" height="577.834" style="stroke:#A80036;stroke-width:1.0;" width="10" x="633.5" y="849.8516"/><polygon fill="#A80036" points="312.5,111.7988,322.5,115.7988,312.5,119.7988,316.5,115.7988" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="51.5" x2="318.5" y1="115.7988" y2="115.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="58.5" y="111.0566">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="71.5" y="111.0566">open crypto section</text><polygon fill="#A80036" points="626.5,141.1094,636.5,145.1094,626.5,149.1094,630.5,145.1094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="324.5" x2="632.5" y1="145.1094" y2="145.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="331.5" y="140.3672">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="344.5" y="140.3672">/sdk-partner/sign-in()</text><path d="M10,160.1094 L72,160.1094 L72,167.1094 L62,177.1094 L10,177.1094 L10,160.1094 " fill="#FFD700" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="120.1973" style="stroke:#000000;stroke-width:2.0;" width="677.5" x="10" y="160.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="173.6777">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="82" x="87" y="172.7441">[Unauthorized]</text><polygon fill="#A80036" points="335.5,194.7305,325.5,198.7305,335.5,202.7305,331.5,198.7305" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="329.5" x2="637.5" y1="198.7305" y2="198.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="530.5" y="193.9883">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="543.5" y="193.9883">http code 401</text><polygon fill="#A80036" points="62.5,224.041,52.5,228.041,62.5,232.041,58.5,228.041" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56.5" x2="323.5" y1="228.041" y2="228.041"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="216.5" y="223.2988">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="229.5" y="223.2988">http code 401</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="687.5" y1="237.041" y2="237.041"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="76" x="15" y="247.6758">[#Authorized]</text><polygon fill="#A80036" points="335.5,268.3066,325.5,272.3066,335.5,276.3066,331.5,272.3066" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="329.5" x2="637.5" y1="272.3066" y2="272.3066"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="530.5" y="267.5645">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="543.5" y="267.5645">http code 200</text><polygon fill="#A80036" points="626.5,304.6172,636.5,308.6172,626.5,312.6172,630.5,308.6172" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="324.5" x2="632.5" y1="308.6172" y2="308.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="331.5" y="303.875">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="344.5" y="303.875">GET /b2b/partner/limit</text><polygon fill="#A80036" points="335.5,333.9277,325.5,337.9277,335.5,341.9277,331.5,337.9277" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="329.5" x2="637.5" y1="337.9277" y2="337.9277"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="582.5" y="333.1855">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="595.5" y="333.1855">limits</text><polygon fill="#A80036" points="626.5,363.2383,636.5,367.2383,626.5,371.2383,630.5,367.2383" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="324.5" x2="632.5" y1="367.2383" y2="367.2383"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="331.5" y="362.4961">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="344.5" y="362.4961">/b2b/user/limit</text><polygon fill="#A80036" points="335.5,392.5488,325.5,396.5488,335.5,400.5488,331.5,396.5488" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="329.5" x2="637.5" y1="396.5488" y2="396.5488"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="582.5" y="391.8066">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="595.5" y="391.8066">limits</text><polygon fill="#A80036" points="62.5,421.8594,52.5,425.8594,62.5,429.8594,58.5,425.8594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56.5" x2="323.5" y1="425.8594" y2="425.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="259.5" y="421.1172">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="281.5" y="421.1172">limits</text><polygon fill="#A80036" points="626.5,451.1699,636.5,455.1699,626.5,459.1699,630.5,455.1699" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="324.5" x2="632.5" y1="455.1699" y2="455.1699"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="331.5" y="450.4277">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="353.5" y="450.4277">/b2b/all/sell/rate</text><polygon fill="#A80036" points="335.5,480.4805,325.5,484.4805,335.5,488.4805,331.5,484.4805" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="329.5" x2="637.5" y1="484.4805" y2="484.4805"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="578.5" y="479.7383">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="600.5" y="479.7383">rates</text><polygon fill="#A80036" points="62.5,509.791,52.5,513.791,62.5,517.791,58.5,513.791" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56.5" x2="323.5" y1="513.791" y2="513.791"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="264.5" y="509.0488">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="286.5" y="509.0488">rates</text><polygon fill="#A80036" points="312.5,539.1016,322.5,543.1016,312.5,547.1016,316.5,543.1016" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="51.5" x2="318.5" y1="543.1016" y2="543.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="58.5" y="538.3594">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227" x="80.5" y="538.3594">enter fiat-curr, crypto-curr, amount</text><polygon fill="#A80036" points="626.5,568.4121,636.5,572.4121,626.5,576.4121,630.5,572.4121" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="324.5" x2="632.5" y1="572.4121" y2="572.4121"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="331.5" y="567.6699">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231" x="353.5" y="567.6699">/b2b/cs/sell/rate (from, to, amount)</text><polygon fill="#A80036" points="335.5,597.7227,325.5,601.7227,335.5,605.7227,331.5,601.7227" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="329.5" x2="637.5" y1="601.7227" y2="601.7227"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="437.5" y="596.9805">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="459.5" y="596.9805">trx-token, rates, limits, fee</text><polygon fill="#A80036" points="62.5,627.0332,52.5,631.0332,62.5,635.0332,58.5,631.0332" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56.5" x2="323.5" y1="631.0332" y2="631.0332"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="193.5" y="626.291">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="215.5" y="626.291">rates, limits, fee</text><polygon fill="#A80036" points="312.5,656.3438,322.5,660.3438,312.5,664.3438,316.5,660.3438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="51.5" x2="318.5" y1="660.3438" y2="660.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="58.5" y="655.6016">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="80.5" y="655.6016">submit</text><line style="stroke:#A80036;stroke-width:1.0;" x1="324.5" x2="366.5" y1="689.6543" y2="689.6543"/><line style="stroke:#A80036;stroke-width:1.0;" x1="366.5" x2="366.5" y1="689.6543" y2="702.6543"/><line style="stroke:#A80036;stroke-width:1.0;" x1="325.5" x2="366.5" y1="702.6543" y2="702.6543"/><polygon fill="#A80036" points="335.5,698.6543,325.5,702.6543,335.5,706.6543,331.5,702.6543" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="331.5" y="684.9121">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238" x="353.5" y="684.9121">check users crypto balance and limits</text><path d="M10,717.6543 L72,717.6543 L72,724.6543 L62,734.6543 L10,734.6543 L10,717.6543 " fill="#FFD700" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="103.8867" style="stroke:#000000;stroke-width:2.0;" width="460.5" x="10" y="717.6543"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="731.2227">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="45" x="87" y="730.2891">[Cancel]</text><polygon fill="#A80036" points="62.5,752.2754,52.5,756.2754,62.5,760.2754,58.5,756.2754" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56.5" x2="323.5" y1="756.2754" y2="756.2754"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="207.5" y="751.5332">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="229.5" y="751.5332">http code 403</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="470.5" y1="765.2754" y2="765.2754"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="51" x="15" y="775.9102">[Success]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="324.5" x2="366.5" y1="800.541" y2="800.541"/><line style="stroke:#A80036;stroke-width:1.0;" x1="366.5" x2="366.5" y1="800.541" y2="813.541"/><line style="stroke:#A80036;stroke-width:1.0;" x1="325.5" x2="366.5" y1="813.541" y2="813.541"/><polygon fill="#A80036" points="335.5,809.541,325.5,813.541,335.5,817.541,331.5,813.541" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="331.5" y="795.7988">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="353.5" y="795.7988">generate orderID</text><polygon fill="#A80036" points="621.5,845.8516,631.5,849.8516,621.5,853.8516,625.5,849.8516" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="324.5" x2="627.5" y1="849.8516" y2="849.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="331.5" y="845.1094">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="268" x="353.5" y="845.1094">/b2b/cs/sell (trx-token, merchant-trx-id)</text><path d="M287.5,864.8516 L349.5,864.8516 L349.5,871.8516 L339.5,881.8516 L287.5,881.8516 L287.5,864.8516 " fill="#FFD700" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="103.8867" style="stroke:#000000;stroke-width:2.0;" width="415" x="287.5" y="864.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="302.5" y="878.4199">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="250" x="364.5" y="877.4863">[check merchant transaction for duplication]</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="643.5" x2="685.5" y1="903.4727" y2="903.4727"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="685.5" x2="685.5" y1="903.4727" y2="916.4727"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="644.5" x2="685.5" y1="916.4727" y2="916.4727"/><polygon fill="#A80036" points="654.5,912.4727,644.5,916.4727,654.5,920.4727,650.5,916.4727" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="650.5" y="898.7305">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="672.5" y="898.7305">OK</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="287.5" x2="702.5" y1="925.4727" y2="925.4727"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="37" x="292.5" y="936.1074">[Error]</text><polygon fill="#A80036" points="335.5,956.7383,325.5,960.7383,335.5,964.7383,331.5,960.7383" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="329.5" x2="632.5" y1="960.7383" y2="960.7383"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="524.5" y="955.9961">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="546.5" y="955.9961">already done</text><polygon fill="#A80036" points="335.5,993.0488,325.5,997.0488,335.5,1001.0488,331.5,997.0488" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="329.5" x2="632.5" y1="997.0488" y2="997.0488"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="466.5" y="992.3066">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="488.5" y="992.3066">check order existence</text><path d="M287.5,1012.0488 L349.5,1012.0488 L349.5,1019.0488 L339.5,1029.0488 L287.5,1029.0488 L287.5,1012.0488 " fill="#FFD700" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="90.8867" style="stroke:#000000;stroke-width:2.0;" width="400" x="287.5" y="1012.0488"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="302.5" y="1025.6172">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="51" x="364.5" y="1024.6836">[Success]</text><polygon fill="#A80036" points="621.5,1046.6699,631.5,1050.6699,621.5,1054.6699,625.5,1050.6699" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="324.5" x2="627.5" y1="1050.6699" y2="1050.6699"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="331.5" y="1045.9277">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="353.5" y="1045.9277">http 200</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="287.5" x2="687.5" y1="1059.6699" y2="1059.6699"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="37" x="292.5" y="1070.3047">[Error]</text><polygon fill="#A80036" points="621.5,1090.9355,631.5,1094.9355,621.5,1098.9355,625.5,1094.9355" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="324.5" x2="627.5" y1="1094.9355" y2="1094.9355"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="331.5" y="1090.1934">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="353.5" y="1090.1934">http 403</text><polygon fill="#A80036" points="335.5,1127.2461,325.5,1131.2461,335.5,1135.2461,331.5,1131.2461" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="329.5" x2="632.5" y1="1131.2461" y2="1131.2461"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="455.5" y="1126.5039">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="477.5" y="1126.5039">crypto balance changed</text><path d="M10,1146.2461 L72,1146.2461 L72,1153.2461 L62,1163.2461 L10,1163.2461 L10,1146.2461 " fill="#FFD700" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="361.0605" style="stroke:#000000;stroke-width:2.0;" width="807.5" x="10" y="1146.2461"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="1159.8145">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="51" x="87" y="1158.8809">[Success]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="643.5" x2="685.5" y1="1184.8672" y2="1184.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="685.5" x2="685.5" y1="1184.8672" y2="1197.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="644.5" x2="685.5" y1="1197.8672" y2="1197.8672"/><polygon fill="#A80036" points="654.5,1193.8672,644.5,1197.8672,654.5,1201.8672,650.5,1197.8672" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="650.5" y="1180.125">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="672.5" y="1180.125">transaction complete</text><polygon fill="#A80036" points="335.5,1223.1777,325.5,1227.1777,335.5,1231.1777,331.5,1227.1777" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="329.5" x2="632.5" y1="1227.1777" y2="1227.1777"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="550.5" y="1222.4355">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="572.5" y="1222.4355">http 200</text><line style="stroke:#A80036;stroke-width:1.0;" x1="324.5" x2="366.5" y1="1256.4883" y2="1256.4883"/><line style="stroke:#A80036;stroke-width:1.0;" x1="366.5" x2="366.5" y1="1256.4883" y2="1269.4883"/><line style="stroke:#A80036;stroke-width:1.0;" x1="325.5" x2="366.5" y1="1269.4883" y2="1269.4883"/><polygon fill="#A80036" points="335.5,1265.4883,325.5,1269.4883,335.5,1273.4883,331.5,1269.4883" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="331.5" y="1251.7461">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="353.5" y="1251.7461">payout fiat to user</text><line style="stroke:#A80036;stroke-width:1.0;" x1="324.5" x2="366.5" y1="1298.7988" y2="1298.7988"/><line style="stroke:#A80036;stroke-width:1.0;" x1="366.5" x2="366.5" y1="1298.7988" y2="1311.7988"/><line style="stroke:#A80036;stroke-width:1.0;" x1="325.5" x2="366.5" y1="1311.7988" y2="1311.7988"/><polygon fill="#A80036" points="335.5,1307.7988,325.5,1311.7988,335.5,1315.7988,331.5,1311.7988" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="331.5" y="1294.0566">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="353.5" y="1294.0566">order status "complete"</text><polygon fill="#A80036" points="62.5,1337.1094,52.5,1341.1094,62.5,1345.1094,58.5,1341.1094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56.5" x2="323.5" y1="1341.1094" y2="1341.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="200.5" y="1336.3672">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="222.5" y="1336.3672">order complete</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="817.5" y1="1350.1094" y2="1350.1094"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="45" x="15" y="1360.7441">[Cancel]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="643.5" x2="685.5" y1="1385.375" y2="1385.375"/><line style="stroke:#A80036;stroke-width:1.0;" x1="685.5" x2="685.5" y1="1385.375" y2="1398.375"/><line style="stroke:#A80036;stroke-width:1.0;" x1="644.5" x2="685.5" y1="1398.375" y2="1398.375"/><polygon fill="#A80036" points="654.5,1394.375,644.5,1398.375,654.5,1402.375,650.5,1398.375" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="650.5" y="1380.6328">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="672.5" y="1380.6328">cancel transaction</text><polygon fill="#A80036" points="335.5,1423.6855,325.5,1427.6855,335.5,1431.6855,331.5,1427.6855" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="329.5" x2="637.5" y1="1427.6855" y2="1427.6855"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="521.5" y="1422.9434">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="543.5" y="1422.9434">http code 403</text><line style="stroke:#A80036;stroke-width:1.0;" x1="324.5" x2="366.5" y1="1456.9961" y2="1456.9961"/><line style="stroke:#A80036;stroke-width:1.0;" x1="366.5" x2="366.5" y1="1456.9961" y2="1469.9961"/><line style="stroke:#A80036;stroke-width:1.0;" x1="325.5" x2="366.5" y1="1469.9961" y2="1469.9961"/><polygon fill="#A80036" points="335.5,1465.9961,325.5,1469.9961,335.5,1473.9961,331.5,1469.9961" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="331.5" y="1452.2539">36</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="353.5" y="1452.2539">cancel order</text><polygon fill="#A80036" points="62.5,1495.3066,52.5,1499.3066,62.5,1503.3066,58.5,1499.3066" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56.5" x2="323.5" y1="1499.3066" y2="1499.3066"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="203.5" y="1494.5645">37</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="225.5" y="1494.5645">order canceled</text><polygon fill="#A80036" points="626.5,1531.6172,636.5,1535.6172,626.5,1539.6172,630.5,1535.6172" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="324.5" x2="632.5" y1="1535.6172" y2="1535.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="331.5" y="1530.875">38</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="353.5" y="1530.875">/b2b/user/data</text><path d="M10,1550.6172 L72,1550.6172 L72,1557.6172 L62,1567.6172 L10,1567.6172 L10,1550.6172 " fill="#FFD700" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="120.1973" style="stroke:#000000;stroke-width:2.0;" width="677.5" x="10" y="1550.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="1564.1855">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="51" x="87" y="1563.252">[Success]</text><polygon fill="#A80036" points="335.5,1585.2383,325.5,1589.2383,335.5,1593.2383,331.5,1589.2383" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="329.5" x2="637.5" y1="1589.2383" y2="1589.2383"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="362.5" y="1584.4961">39</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="247" x="384.5" y="1584.4961">actual cryptocurrency and fiat balances</text><polygon fill="#A80036" points="62.5,1614.5488,52.5,1618.5488,62.5,1622.5488,58.5,1618.5488" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56.5" x2="323.5" y1="1618.5488" y2="1618.5488"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="97.5" y="1613.8066">40</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="119.5" y="1613.8066">update fiat and crypto balances</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="687.5" y1="1627.5488" y2="1627.5488"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="45" x="15" y="1638.1836">[Cancel]</text><polygon fill="#A80036" points="335.5,1658.8145,325.5,1662.8145,335.5,1666.8145,331.5,1662.8145" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="329.5" x2="637.5" y1="1662.8145" y2="1662.8145"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="521.5" y="1658.0723">41</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="543.5" y="1658.0723">http code 403</text><!--MD5=[bc3624d06eb23721a2ef2e014bf1c82c]
@startuml

skinparam shadowing false
skinparam SequenceMessageAlign direction

autonumber

actor EndUser as user
participant "Client" as part
participant "Mercuryo" as merc

user -> part: open crypto section
part -> merc: /sdk-partner/sign-in()
alt#Gold #AliceBlue Unauthorized
    merc - -> part: http code 401
    part - -> user: http code 401
else #IMPLEMENTATION #Authorized
    merc - -> part: http code 200
end

part -> merc: GET /b2b/partner/limit
merc - -> part: limits

part -> merc: /b2b/user/limit
merc - -> part: limits
part - -> user: limits

part -> merc: /b2b/all/sell/rate
merc - -> part: rates
part - -> user: rates

user -> part: enter fiat-curr, crypto-curr, amount
part -> merc: /b2b/cs/sell/rate (from, to, amount)
merc - -> part: trx-token, rates, limits, fee
part - -> user: rates, limits, fee
user -> part: submit
part -> part: check users crypto balance and limits
alt#Gold #AliceBlue Cancel
    part - -> user: http code 403
else #IMPLEMENTATION Success
    part -> part: generate orderID
end

part -> merc++: /b2b/cs/sell (trx-token, merchant-trx-id)

    alt#Gold #AliceBlue check merchant transaction for duplication
        merc - -> merc: OK
    else #IMPLEMENTATION Error
        merc - -> part: already done
    end

merc -> part: check order existence
    alt#Gold #AliceBlue Success
    part - -> merc: http 200
    else #IMPLEMENTATION  Error
    part - -> merc: http 403
    end

merc - -> part: crypto balance changed

    alt#Gold #AliceBlue Success
        merc -> merc: transaction complete
        merc - -> part: http 200
        part -> part: payout fiat to user
        part -> part: order status "complete"
        part - -> user: order complete
    else #IMPLEMENTATION Cancel
        merc -> merc: cancel transaction
        merc - -> part- -: http code 403
        part -> part: cancel order
        part - -> user: order canceled
    end

part -> merc: /b2b/user/data
    alt#Gold #AliceBlue Success
        merc - -> part: actual cryptocurrency and fiat balances
        part - -> user: update fiat and crypto balances
    else #IMPLEMENTATION Cancel
        merc - -> part: http code 403
    end
@enduml

PlantUML version 1.2022.1(Tue Feb 01 22:19:58 SAMT 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: ru
Country: RU
--></g></svg>